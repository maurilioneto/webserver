<!DOCTYPE html>
<html lang="pt-br" ng-app="webserver">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Importar Angular e Bootestrap-->
        <script type="text/javascript" src="./lib/angularjs/angular.min.js"></script>
        <script type="text/javascript" src="./lib/angularjs/angular-route.min.js"></script>
        <script type="text/javascript" src="./lib/bootstrap/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="./css/style.css">
        <!--Iniciar aplicaÃ§Ã£o angular-->
        <script>
            var app = angular.module('webserver', [
                'ngRoute'
            ]);

            app.controller('mainController', ['$scope', 'requestService',
                function($scope, requestService) {
                    $scope.name = 'Login';

                    $scope.btnSair = function () {
                        requestService.POST('/autenticar/sair', null, function (ret) {
                            if (ret.error) {
                                alert(`Erro: ${error}`);
                                return;
                            }
                            document.location = '/';
                        });
                    }
                }
            ]);
        </script>
        <!-- Rotas -->
        <script type="text/javascript" src="./config/menuRoute.js"></script>
        <!-- Servicos -->
        <script type="text/javascript" src="./services/requestService.js"></script>
        <!-- Diretivas -->
        <script type="text/javascript" src="./directives/customDirectives.js"></script>
        <!-- Importar Controllers -->
        <script type="text/javascript" src="./controllers/principalController.js"></script>
        <script type="text/javascript" src="./controllers/rota1Controller.js"></script>
        <script type="text/javascript" src="./controllers/rota2Controller.js"></script>
        <script type="text/javascript" src="./controllers/loginController.js"></script>
        <script type="text/javascript" src="./controllers/homeController.js"></script>
        <script type="text/javascript" src="./controllers/registrarController.js"></script>
        <title>ðŸ”¥ Webserver</title>
    </head>

    <body>
        <!--Menu de NavegaÃ§Ã£o Superior-->
        <nav class="navbar navbar-expand-sm navbar-dark bg-dark" ng-controller="mainController">
            <div class="container-fluid">
                <a class="navbar-brand mr-auto fs-1" href="#">ðŸ”¥ Webserver</a>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbar01" aria-controls="navbar01" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse justify-content-end" id="navbar01">
                    <ul class="navbar-nav my-2 mb-lg-0">
                        <li class="nav-item nav-item-right">
                            <a class="nav-link" href="#!/rota1">Rota 1</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#!/rota2">Rota 2</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown">OpÃ§Ãµes</a>
                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end" aria-labelledby="dropdown10">
                                <li><a class="dropdown-item" href="#">OpÃ§Ã£o 1</a></li>
                                <li><a class="dropdown-item" href="#">OpÃ§Ã£o 2</a></li>
                                <li><span class="dropdown-item" ng-click="btnSair()">Sair</span></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!--Views-->
        <div class="view" ng-view></div>
    </body>

</html>